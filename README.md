# tailwind-angular-lib-ex

implements tailwind in both a angular app, and angular lib while still keeping html default styles and allowing the use of @angular/material

## How to run

0. install deps
1. run `npm run tw:dev`
2. open a 2nd terminal and run `npm run lib:dev`
3. finally open a 3rd terminal and run `npm run dev`

### Notes

this repo is both an angular app and also contains an angular library

in a real world scenario the library would be it's own repo, using this code / approach also works for those scenarios (though some scripts need to be changed)

angular libraries do not use webpack or vite, which is typically how tailwind is applied to projects, this results in some somewhat messy looking scripts in the package.json. these scripts are a bit tidier when the library and app are separate repos

### How it works

typically tailwind would run in an apps development mode and provide JIT compilations of classes as you typed. however angular libraries do not use webpack and as such the tailwind build command must be run on it's own. for convenience there are dev scripts in the `package.json` to simplify the process

first tailwind needs to be told to compile and watch for changes _for the library code only_, this is accomplished by using `npm run tw:dev`, this command uses the `tailwind.config.lib.js` config file to looks for tailwind classes in the library folder's source code, the output of classes found are then placed in the `lib/assets/tw.css` file

then the library must actually be built to use, `npm run lib:dev` will build the lib and watch for any changes changes. within the `ng-package.json` the `tw.css` file generated by tailwind must be specified as an asset so that it gets included in the build

finally once both of those build processes are completed the angular app located in `src/app` can call the complied code from the `./dist` folder. the angular app must also have it's `angular.json` file updated so the build object to include the `tw.css` styles from the built library

once the stylesheet is included in the `angular.json` the regular angular app can start it's development server with `npm run dev`. the angular app itself can also use tailwind classes but does not need any of the manual config that the library does since it uses webpack
